language: node_js
node_js:
- '4'
script:
- set -e
- npm run test
- npm run coveralls
after_success:
- git config --global user.email "travis@travis-ci.org"
- git config --global user.name "Travis CI"
- npm config set git-tag-version=false
- NPM_VERSION=$(npm version patch)
- git commit -a -m "${NPM_VERSION:1}" -m "[ci skip]"
- git remote remove origin
- git remote add origin https://${GITHUB_TOKEN}@github.com/xpl/get-source.git
- git push origin HEAD:master
deploy:
  provider: npm
  email: rocket.mind@gmail.com
  api_key:
    secure: Wx45dVv/kKIR46ZzKfSM47fy/jC/TMCzR/9HkCnhTQ2v/ejMnDgtIN4tDbENxLmYH2QmaXgf6cULHOd7IYNBUmcSbjFxIF1Y8+221Ug7/yeO/5b20bdvwbgYET93X4f0ABKmnetIscnqmnK/YoKox+WLNj0tBSXdYRDghRw7bqWgILboFcUcix+quaq6KQXoDxFS7nlP+BSowL/NBqWESthX7SvI4STKmcEgdotHX6FApmQM911bd4j8yG/Vu1JvB1ay0Phir2ZndC/Egm5TOERowPkiD//1NPbQo3dUjrAoJ9RwgZQkF3J/oF3NyhQ+f4F5B6ao/XsVLOwzMsfy8Ghek+BiVlgbjxoeyalCD7yl7am1calwkd3kdfPGqHfLciJLNTowsZB7GPfOHlWcOdoXBKBECrnIUyB0ETIPw/CDaLU6ZMKns5AfllVitMt9mhX/mTCbIJhpILrYhzVCVzclRZjL1eU0oFAFWEWD3UBzvyGsSw9T1HTMO9pHZvA8NetenZmPdJ/rnI84N3ac25o+nNtVYaxti8iGl67ZmYJD875NanheiLbzq0THoIksWI1jA26yDuFaYPDF8uC7OD7tIr5MEp0YVmr9knQF+AtV9UZPkaQQxE5nog0hln7QssYlJGgEmYvHq2GmXLLd9AMcI5FvtxS3vkgQl+TS9zo=
env:
  global:
  - secure: oxWRTAaxKkzYwgQRfql76RjM82vsSo3uADiG5UegEkTLTFYT5Fg9xsHZ/mAcrJQqQ0poXTYHRLTkc8ApT/zMDZhtTsDTzL/Rlb0ykwdzLAoCaFGQr5Y/xWbbB8ahuwno2TilkWbGZyhSws6oCoUl9FaQWz+zp/hnP29qzNt0SbRGVqGfxEyhdymFN09kMrQFpk35EzeSDOXyveW9Tm0LXoNWFDoalNW13WmjVpMPFV2rlXwcV2yyDoiqY5Coa9Mwtuvbu9VrPJxWmPbZXT6IrUlTU2wQkt8QOkYANyK4xQACjrItNQPJNhlpBo1fdGLR5IRp6F3/424gnnQ4exkzqdCqbYfUVIYsLaAohe4Yj6spfk8YB/e4LgeZaP0kd5ZCwrkM7Hn2MXmvOB6L9lHadMqbKk7lshhUJVnaoUKhd4DQL4+VkAXMcKcPbMBDW9dAl+bembQM4Tzgg7hgetrXiVQcrxXdtXH78ksH1KsOWWS+iWuFxt3PovLDNLRyUqiezZvoBtwvzDawPbTtVjbXld+dBeZkLSSYygDT1Ue2ptZVxDn50CLqRn9ep2IacVuOBbzO7Fb9RyM1+VgFcWnyVTD0yCaRXUiZnKn1eLegO5VFJkmIk7flGPA2DPD2ANeG86p0NUmvi7nhLQI9IZfaWtqiPIRxSADsW5sqOwRhEVM=
